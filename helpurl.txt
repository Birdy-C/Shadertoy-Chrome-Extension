// File
download file
https://stackoverflow.com/questions/2897619/using-html5-javascript-to-generate-and-save-a-file

// Auto complete
   editor.on("keyup", function (cm, event) {
        if (!cm.state.completionActive && event.keyCode >= 48 && event.keyCode <= 90) {
            CodeMirror.commands.autocomplete(cm, null, {completeSingle: false});
        }
    });


gShaderToy.mCodeEditor.on("keyup", function (cm, event) {
    if (!cm.state.completionActive && event.keyCode >= 48 && event.keyCode <= 90) {
        CodeMirror.commands.autocomplete(cm, null, {completeSingle: false});
    }
});


editor.execCommand("autocomplete")

gShaderToy.mCodeEditor.execCommand("autocomplete")


// Color

<input type="color" id="html5colorpicker" value="#ff0000">

<button onclick="clickColor()">Insert[0-255]</button>
<button onclick="clickColor()">Insert[0.0-1.0]</button>


function insertTextAtCursor(editor, text) {
    var doc = editor.getDoc();
    var cursor = doc.getCursor();
    doc.replaceRange(text, cursor);
}

function clickColor(hex, seltop, selleft, html5) {
    insertTextAtCursor(gShaderToy.mCodeEditor, "123")
    console.log(hex);
    console.log(selleft);
}


var hex = document.getElementById("html5colorpicker").value;

var r = parseInt(hex.slice(1, 3), 16),
    g = parseInt(hex.slice(3, 5), 16),
    b = parseInt(hex.slice(5, 7), 16);
